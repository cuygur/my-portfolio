{"version":3,"sources":["webpack:///./node_modules/gatsby-theme-banshorian/src/utils/isSSR.js","webpack:///./node_modules/gatsby-theme-banshorian/src/components/experience/experience.css.js","webpack:///./node_modules/gatsby-theme-banshorian/src/components/experience/index.js","webpack:///./node_modules/gatsby-theme-banshorian/src/pages/experience.js","webpack:///./node_modules/use-debounce/esm/useDebouncedCallback.js","webpack:///./node_modules/gatsby-theme-banshorian/src/components/hooks/useMQResize.js","webpack:///./node_modules/gatsby-theme-banshorian/src/components/hooks/useWnResize.js","webpack:///./node_modules/gatsby-theme-banshorian/src/components/hooks/usePrevious.js"],"names":["isSSR","window","mediaQueryGenerator","type","size","media52Dot5em","media36em","styles","experience","header","css","grid","job","link","img","year","position","company","mediaQueries","min52","max36","Experience","currentYear","jobs","title","description","showLoadingAnimation","transitionStatus","useState","loaded","setLoaded","gridRef","useRef","matchPoints","useMQResize","jobItems","map","createRef","itemsHeight","maxMarginTop","minMarginTop","current","item","getComputedStyle","marginTop","parseFloat","offsetHeight","length","style","height","Math","ceil","wait","cb","data-test","ref","index","node","id","slug","fields","frontmatter","logo","jobTitle","dateFrom","dateTo","years","addYear","slice","key","cover","to","direction","bg","fluid","childImageSharp","alt","substring","data","bgClassName","Helmet","allMarkdownRemark","edges","useDebouncedCallback","callback","delay","options","maxWait","maxWaitHandler","maxWaitArgs","leading","trailing","undefined","leadingCall","functionTimeoutHandler","isComponentUnmounted","debouncedFunction","cancelDebouncedCallback","clearTimeout","debouncedCallback","args","_i","arguments","apply","setTimeout","shouldCallFunction","callPending","queries","queryMatch","setQueryMatch","keys","Object","handleQuery","useCallback","updatedMatches","reduce","acum","media","matchMedia","matches","resizeHandler","useEffect","addEventListener","removeEventListener","useWnResize","windowSize","setWindowSize","getSize","width","innerWidth","offsetWidth","innerHeight","usePrevious","value"],"mappings":"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","file":"component---node-modules-gatsby-theme-banshorian-src-pages-experience-js-6f7eb29223cd7cce33a2.js","sourcesContent":["const isSSR = typeof window === \"undefined\"\r\n\r\nexport default isSSR\r\n","import { css } from \"@emotion/core\"\r\nimport mediaQueryGenerator from \"../../utils/mediaQGen\"\r\n\r\nconst [media52Dot5em, media36em] = mediaQueryGenerator([\r\n  { type: \"min\", size: \"52.5\" },\r\n  { type: \"max\", size: \"36\" },\r\n])\r\n\r\nconst styles = {\r\n  experience: css`\r\n    color: #fff;\r\n    h1,\r\n    h2,\r\n    h3 {\r\n      color: #fff;\r\n    }\r\n  `,\r\n  header: css`\r\n    position: relative;\r\n    margin: 0 auto;\r\n    max-width: 1200px;\r\n    padding: 0.3rem 6em 0;\r\n    h1 {\r\n      font-size: 3rem;\r\n      line-height: 1.25;\r\n      margin: 0;\r\n      ${media36em} {\r\n        font-size: 2.2rem;\r\n        line-height: 0.8;\r\n      }\r\n    }\r\n    p {\r\n      display: block;\r\n      max-width: calc(100vw - 5em);\r\n      margin: 1em 0 0 5px;\r\n      font-weight: 500;\r\n    }\r\n  `,\r\n  grid: css`\r\n    max-width: 1200px;\r\n    width: 100%;\r\n    margin: 0 auto;\r\n    display: flex;\r\n    flex-flow: column wrap;\r\n    align-content: space-between;\r\n    min-height: 100vh;\r\n    &::before,\r\n    &::after {\r\n      content: \"\";\r\n      flex-basis: 100%;\r\n      width: 0;\r\n      order: 2;\r\n    }\r\n    ${media36em} {\r\n      &::before,\r\n      &::after {\r\n        flex-basis: auto;\r\n      }\r\n    }\r\n  `,\r\n  job: css`\r\n    width: 50%;\r\n    min-width: 280px;\r\n    margin: 0 0 2em;\r\n    padding: 1em 4em 0;\r\n    position: relative;\r\n    &:nth-of-type(2n + 1) {\r\n      order: 1;\r\n    }\r\n    &:nth-of-type(2n) {\r\n      order: 2;\r\n    }\r\n    &::before {\r\n      font-family: sans-serif;\r\n      font-size: 10em;\r\n      position: absolute;\r\n      top: -1em;\r\n      left: -0.15em;\r\n      opacity: 0.3;\r\n      content: attr(data-year);\r\n    }\r\n    ${media52Dot5em} {\r\n      width: 33.33%;\r\n      margin: 0 0 9em;\r\n      &:first-of-type {\r\n        margin-top: 5em;\r\n      }\r\n      &:nth-of-type(2) {\r\n        margin-top: 14em;\r\n      }\r\n      &:nth-of-type(3n + 1) {\r\n        order: 1;\r\n      }\r\n      &:nth-of-type(3n + 2) {\r\n        order: 2;\r\n      }\r\n      &:nth-of-type(3n) {\r\n        order: 3;\r\n      }\r\n    }\r\n    ${media36em} {\r\n      width: 100%;\r\n      margin: 2em 0;\r\n      padding: 1em 2em 0;\r\n      &:nth-of-type(3n + 1) {\r\n        order: 0;\r\n      }\r\n      &:nth-of-type(3n + 2) {\r\n        order: 0;\r\n      }\r\n      &:nth-of-type(3n) {\r\n        order: 0;\r\n      }\r\n    }\r\n  `,\r\n  link: css`\r\n    display: block;\r\n    color: #474283;\r\n    &:hover {\r\n      color: #474283;\r\n      outline: none;\r\n    }\r\n  `,\r\n  img: css`\r\n    max-width: 100%;\r\n    box-shadow: 0 0 10px 1px rgba(0, 0, 0, 0.4);\r\n    transform: translate3d(0, 0, 0);\r\n    border-radius: 50%;\r\n    position: relative;\r\n    z-index: 1;\r\n  `,\r\n  year: css`\r\n    font-size: 0.85em;\r\n    position: absolute;\r\n    z-index: 1;\r\n    right: 0;\r\n    margin: -1.4em 3em 0 0;\r\n    padding: 0.3em 0.5em;\r\n    color: #fff;\r\n    border: 2px solid #fff;\r\n  `,\r\n  position: css`\r\n    font-size: 1em;\r\n    font-weight: 900;\r\n    margin: 0 0 0 1em;\r\n    white-space: nowrap;\r\n  `,\r\n  company: css`\r\n    font-size: 0.9em;\r\n    font-weight: 600;\r\n    margin: 1em 0 0.5em;\r\n  `,\r\n}\r\n\r\nexport default styles\r\n","import React, { useState, useRef, createRef } from \"react\"\r\nimport PropTypes from \"prop-types\"\r\nimport AniLink from \"gatsby-plugin-transition-link/AniLink\"\r\nimport Img from \"gatsby-image\"\r\nimport { useMQResize } from \"../hooks\"\r\nimport Delay from \"../delay\"\r\nimport isSSR from \"../../utils/isSSR\"\r\nimport styles from \"./experience.css\"\r\n\r\nconst mediaQueries = {\r\n  min52: \"(min-width: 52.5em)\",\r\n  max36: \"(max-width: 36em)\",\r\n}\r\nconst textLimit = 15\r\n\r\nconst Experience = ({\r\n  jobs,\r\n  title,\r\n  description,\r\n  showLoadingAnimation = true,\r\n  transitionStatus = \"entered\",\r\n}) => {\r\n  const [loaded, setLoaded] = useState(false)\r\n  const gridRef = useRef(null)\r\n  const matchPoints = useMQResize(mediaQueries)\r\n  const jobItems = useRef(jobs.map(createRef))\r\n\r\n  if (loaded && !isSSR) {\r\n    // It's mandatory to specify the height when using flex column\r\n    const defaultMinMargin = 9999\r\n    let itemsHeight = 0\r\n    let maxMarginTop = 0\r\n    let minMarginTop = defaultMinMargin\r\n\r\n    for (let item of jobItems.current) {\r\n      // Get margin top and Bottom size to add it to the height later\r\n      const styles = window.getComputedStyle(item.current)\r\n      const marginTop = parseFloat(styles[\"marginTop\"], 10)\r\n\r\n      if (marginTop) {\r\n        if (marginTop > maxMarginTop) {\r\n          maxMarginTop = marginTop\r\n        }\r\n        if (marginTop < minMarginTop) {\r\n          minMarginTop = marginTop\r\n        }\r\n      }\r\n\r\n      itemsHeight += item.current\r\n        ? item.current.offsetHeight + parseFloat(styles[\"marginBottom\"], 10)\r\n        : parseFloat(styles[\"marginBottom\"], 10)\r\n    }\r\n    minMarginTop = minMarginTop === defaultMinMargin ? 1 : minMarginTop\r\n    if (itemsHeight) {\r\n      // Media queries specified in CSS; The size change by the amount of columns,\r\n      // each column and media query has different margin top and bottom\r\n      if (!matchPoints.max36 && !matchPoints.min52) {\r\n        itemsHeight += jobs.length * minMarginTop\r\n        itemsHeight /= 2\r\n      } else if (matchPoints.min52) {\r\n        itemsHeight += jobs.length * minMarginTop\r\n        itemsHeight /= 3\r\n        itemsHeight += maxMarginTop\r\n      } else {\r\n        itemsHeight += jobs.length * minMarginTop + maxMarginTop\r\n      }\r\n      gridRef.current.style.height = `${Math.ceil(itemsHeight)}px`\r\n    }\r\n  }\r\n\r\n  function handleLoad() {\r\n    setLoaded(true)\r\n  }\r\n\r\n  function getJobs() {\r\n    let currentYear\r\n\r\n    return jobs.map(\r\n      (\r\n        {\r\n          node: {\r\n            id,\r\n            fields: { slug },\r\n            frontmatter: { company, logo, jobTitle, dateFrom, dateTo },\r\n          },\r\n        },\r\n        index\r\n      ) => {\r\n        const years = dateFrom === dateTo ? dateFrom : `${dateFrom} - ${dateTo}`\r\n        let addYear = false\r\n        if (dateTo.slice(-1) % 3 === 0) {\r\n          if (currentYear !== dateTo) {\r\n            addYear = true\r\n          }\r\n          currentYear = dateTo\r\n        }\r\n\r\n        return (\r\n          <div\r\n            key={id}\r\n            css={styles.job}\r\n            ref={jobItems.current[index]}\r\n            {...(addYear && { \"data-year\": currentYear })}\r\n          >\r\n            <AniLink\r\n              cover\r\n              to={slug}\r\n              css={styles.link}\r\n              direction=\"left\"\r\n              bg=\"#282b2f\"\r\n            >\r\n              <Img\r\n                css={styles.img}\r\n                fluid={logo.childImageSharp.fluid}\r\n                alt={company}\r\n              />\r\n              <span css={styles.year}>{years}</span>\r\n              <h2 css={styles.company}>\r\n                {company.length >= textLimit\r\n                  ? `${company.substring(0, textLimit)}...`\r\n                  : company}\r\n              </h2>\r\n              <h3 css={styles.position}>{jobTitle}</h3>\r\n            </AniLink>\r\n          </div>\r\n        )\r\n      }\r\n    )\r\n  }\r\n\r\n  return (\r\n    <main css={styles.experience}>\r\n      <header css={styles.header}>\r\n        <h1>{title}</h1>\r\n        <p>{description}</p>\r\n      </header>\r\n      {/* TODO: Find a workaround for this */}\r\n      {/* It appears that AniLink causes the page to render many times */}\r\n      {/* {transitionStatus === \"exited\" ? ( */}\r\n      <Delay\r\n        wait={1000}\r\n        cb={handleLoad}\r\n        showLoadingAnimation={showLoadingAnimation}\r\n      >\r\n        <div css={styles.grid} data-test=\"jobs\" ref={gridRef}>\r\n          {getJobs()}\r\n        </div>\r\n      </Delay>\r\n      {/* ) : (\r\n        <div css={styles.grid}>{getJobs()}</div>\r\n      )} */}\r\n    </main>\r\n  )\r\n}\r\n\r\nExperience.propTypes = {\r\n  jobs: PropTypes.arrayOf(\r\n    PropTypes.shape({\r\n      node: PropTypes.shape({\r\n        id: PropTypes.string.isRequired,\r\n        excerpt: PropTypes.string.isRequired,\r\n        fields: PropTypes.shape({\r\n          slug: PropTypes.string.isRequired,\r\n        }).isRequired,\r\n        frontmatter: PropTypes.shape({\r\n          company: PropTypes.string.isRequired,\r\n          logo: PropTypes.object.isRequired,\r\n          jobTitle: PropTypes.string.isRequired,\r\n          dateFrom: PropTypes.string.isRequired,\r\n          dateTo: PropTypes.string.isRequired,\r\n        }).isRequired,\r\n      }).isRequired,\r\n    }).isRequired\r\n  ).isRequired,\r\n  title: PropTypes.string.isRequired,\r\n  description: PropTypes.string.isRequired,\r\n  showLoadingAnimation: PropTypes.bool,\r\n  transitionStatus: PropTypes.string,\r\n}\r\n\r\nexport default Experience\r\n","import React from \"react\"\r\nimport { Helmet } from \"react-helmet\"\r\nimport { graphql } from \"gatsby\"\r\nimport LayoutContactMe from \"../components/layout/layout-contact-me\"\r\nimport Experience from \"../components/experience\"\r\n\r\nexport default ({ data, transitionStatus }) => {\r\n  return (\r\n    <LayoutContactMe bgClassName=\"experience\">\r\n      <Helmet>\r\n        <title>Work Experience</title>\r\n      </Helmet>\r\n      <Experience\r\n        jobs={data.allMarkdownRemark.edges}\r\n        transitionStatus={transitionStatus}\r\n        title=\"Work Experience\"\r\n        description=\"Here follows an account of my work experience .\"\r\n      />\r\n    </LayoutContactMe>\r\n  )\r\n}\r\n\r\nexport const query = graphql`\r\n  query {\r\n    allMarkdownRemark(\r\n      filter: {\r\n        fields: {\r\n          slug: { regex: \"/experience/\" }\r\n          hideOnExperience: { eq: false }\r\n        }\r\n      }\r\n      sort: { fields: [frontmatter___dateFrom], order: DESC }\r\n    ) {\r\n      totalCount\r\n      edges {\r\n        node {\r\n          id\r\n          frontmatter {\r\n            company\r\n            logo {\r\n              childImageSharp {\r\n                fluid(maxWidth: 481) {\r\n                  ...GatsbyImageSharpFluid\r\n                }\r\n              }\r\n            }\r\n            jobTitle\r\n            dateFrom(formatString: \"YYYY\")\r\n            dateTo(formatString: \"YYYY\")\r\n          }\r\n          fields {\r\n            slug\r\n          }\r\n          excerpt\r\n        }\r\n      }\r\n    }\r\n  }\r\n`\r\n","import { useRef, useCallback, useEffect } from 'react';\nexport default function useDebouncedCallback(callback, delay, options) {\n  if (options === void 0) {\n    options = {};\n  }\n\n  var maxWait = options.maxWait;\n  var maxWaitHandler = useRef(null);\n  var maxWaitArgs = useRef([]);\n  var leading = options.leading;\n  var trailing = options.trailing === undefined ? true : options.trailing;\n  var leadingCall = useRef(false);\n  var functionTimeoutHandler = useRef(null);\n  var isComponentUnmounted = useRef(false);\n  var debouncedFunction = useRef(callback);\n  debouncedFunction.current = callback;\n  var cancelDebouncedCallback = useCallback(function () {\n    clearTimeout(functionTimeoutHandler.current);\n    clearTimeout(maxWaitHandler.current);\n    maxWaitHandler.current = null;\n    maxWaitArgs.current = [];\n    functionTimeoutHandler.current = null;\n    leadingCall.current = false;\n  }, []);\n  useEffect(function () {\n    // We have to set isComponentUnmounted to be truth, as fast-refresh runs all useEffects\n    isComponentUnmounted.current = false;\n    return function () {\n      // we use flag, as we allow to call callPending outside the hook\n      isComponentUnmounted.current = true;\n    };\n  }, []);\n  var debouncedCallback = useCallback(function () {\n    var args = [];\n\n    for (var _i = 0; _i < arguments.length; _i++) {\n      args[_i] = arguments[_i];\n    }\n\n    maxWaitArgs.current = args;\n    clearTimeout(functionTimeoutHandler.current);\n\n    if (leadingCall.current) {\n      leadingCall.current = false;\n    }\n\n    if (!functionTimeoutHandler.current && leading && !leadingCall.current) {\n      debouncedFunction.current.apply(debouncedFunction, args);\n      leadingCall.current = true;\n    }\n\n    functionTimeoutHandler.current = setTimeout(function () {\n      var shouldCallFunction = true;\n\n      if (leading && leadingCall.current) {\n        shouldCallFunction = false;\n      }\n\n      cancelDebouncedCallback();\n\n      if (!isComponentUnmounted.current && trailing && shouldCallFunction) {\n        debouncedFunction.current.apply(debouncedFunction, args);\n      }\n    }, delay);\n\n    if (maxWait && !maxWaitHandler.current && trailing) {\n      maxWaitHandler.current = setTimeout(function () {\n        var args = maxWaitArgs.current;\n        cancelDebouncedCallback();\n\n        if (!isComponentUnmounted.current) {\n          debouncedFunction.current.apply(null, args);\n        }\n      }, maxWait);\n    }\n  }, [maxWait, delay, cancelDebouncedCallback, leading, trailing]);\n  var callPending = useCallback(function () {\n    // Call pending callback only if we have anything in our queue\n    if (!functionTimeoutHandler.current) {\n      return;\n    }\n\n    debouncedFunction.current.apply(null, maxWaitArgs.current);\n    cancelDebouncedCallback();\n  }, [cancelDebouncedCallback]); // At the moment, we use 3 args array so that we save backward compatibility\n\n  return [debouncedCallback, cancelDebouncedCallback, callPending];\n}","import { useEffect, useState, useRef, useCallback } from \"react\"\r\nimport { useDebouncedCallback } from \"use-debounce\"\r\nimport isSSR from \"../../utils/isSSR\"\r\n\r\n/**\r\n * Media Query Window Resize Hook\r\n * This function determines if the MediaQueryList matches\r\n * the size of the window, it is executed every time the screen is resized\r\n *\r\n * @param {*} queries Media Query List\r\n * @returns\r\n */\r\nfunction useMQResize(queries) {\r\n  const [queryMatch, setQueryMatch] = useState(null)\r\n  const keys = useRef(Object.keys(queries))\r\n\r\n  const handleQuery = useCallback(() => {\r\n    const updatedMatches = keys.current.reduce((acum, media) => {\r\n      acum[media] = !!window.matchMedia(queries[media]).matches\r\n      return acum\r\n    }, {})\r\n\r\n    // Setting state to the updated matches\r\n    setQueryMatch(updatedMatches)\r\n  }, [queries])\r\n\r\n  const [resizeHandler] = useDebouncedCallback(\r\n    () => {\r\n      handleQuery()\r\n    },\r\n    // Delay\r\n    500\r\n  )\r\n\r\n  useEffect(() => {\r\n    if (!isSSR && window.matchMedia) {\r\n      // Add listener\r\n      window.addEventListener(\"resize\", resizeHandler)\r\n      handleQuery()\r\n    }\r\n\r\n    return () => {\r\n      // Remove listener\r\n      !isSSR &&\r\n        window.matchMedia &&\r\n        window.removeEventListener(\"resize\", resizeHandler)\r\n    }\r\n  }, [handleQuery, queries, resizeHandler])\r\n\r\n  return queryMatch\r\n}\r\n\r\nexport default useMQResize\r\n","import { useEffect, useState, useCallback } from \"react\"\r\nimport { useDebouncedCallback } from \"use-debounce\"\r\nimport isSSR from \"../../utils/isSSR\"\r\n\r\n/**\r\n * Window Resize Hook\r\n * This function detects and returns the new window or element width and height\r\n *\r\n * @param {boolean||ref} [ref=false]\r\n * @param {number} [delay=500]\r\n * @returns {object} [{width, height}]\r\n */\r\nfunction useWnResize(ref = false, delay = 500) {\r\n  const [windowSize, setWindowSize] = useState(null)\r\n\r\n  const getSize = useCallback(() => {\r\n    // Setting state to the updated matches\r\n    setWindowSize({\r\n      width: ref === false ? window.innerWidth : ref.current.offsetWidth,\r\n      height: ref === false ? window.innerHeight : ref.current.offsetHeight,\r\n    })\r\n  }, [ref])\r\n\r\n  const [resizeHandler] = useDebouncedCallback(() => {\r\n    getSize()\r\n  }, delay)\r\n\r\n  useEffect(() => {\r\n    if (!isSSR) {\r\n      // Add listener\r\n      window.addEventListener(\"resize\", resizeHandler)\r\n      getSize()\r\n    }\r\n\r\n    return () => {\r\n      // Remove listener\r\n      !isSSR && window.removeEventListener(\"resize\", resizeHandler)\r\n    }\r\n  }, [resizeHandler, ref, getSize])\r\n\r\n  return windowSize\r\n}\r\n\r\nexport default useWnResize\r\n","import { useEffect, useRef } from \"react\"\r\n\r\n/**\r\n * Get the previous props or state\r\n *\r\n * @param {*} value\r\n * @returns {*} re\r\n */\r\nfunction usePrevious(value) {\r\n  const ref = useRef()\r\n  useEffect(() => {\r\n    ref.current = value\r\n  })\r\n  return ref.current\r\n}\r\n\r\nexport default usePrevious\r\n"],"sourceRoot":""}